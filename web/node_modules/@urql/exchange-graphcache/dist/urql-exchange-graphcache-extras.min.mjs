import{_ as e}from"./08e6d3e1.min.mjs";import{stringifyVariables as r}from"@urql/core";var n={__typename:"PageInfo",endCursor:null,startCursor:null,hasNextPage:!1,hasPreviousPage:!1};function t(e){return"string"==typeof e?e:null}function a(e,r,n){for(var t=new Set,a=0,o=r.length;a<o;a++){var s=e.resolve(r[a],"node");"string"==typeof s&&t.add(s)}for(var f=r.slice(),i=0,u=n.length;i<u;i++){var l=n[i],v=e.resolve(l,"node");"string"!=typeof v||t.has(v)||(t.add(v),f.push(l))}return f}function o(e,r){for(var n=new Set,t=0,a=e.length;t<a;t++){var o=e[t];"string"==typeof o&&n.add(o)}for(var s=e.slice(),f=0,i=r.length;f<i;f++){var u=r[f];"string"!=typeof u||n.has(u)||(n.add(u),s.push(u))}return s}function s(e,n){for(var t in n)if("first"!==t&&"last"!==t&&"after"!==t&&"before"!==t){if(!(t in e))return!1;var a=e[t],o=n[t];if(typeof a!=typeof o||"object"!=typeof a?a!==o:r(a)!==r(o))return!1}for(var s in e)if("first"!==s&&"last"!==s&&"after"!==s&&"before"!==s&&!(s in n))return!1;return!0}function f(e,r,a){var o=t(e.resolve(r,a));if(!o)return null;var s=e.resolve(o,"__typename"),f=e.resolve(o,"edges")||[],i=e.resolve(o,"nodes")||[];if("string"!=typeof s)return null;var u={__typename:s,edges:f,nodes:i,pageInfo:n},l=e.resolve(o,"pageInfo");if("string"==typeof l){var v=t(e.resolve(l,"__typename")),g=t(e.resolve(l,"endCursor")),d=t(e.resolve(l,"startCursor")),p=e.resolve(l,"hasNextPage"),y=e.resolve(l,"hasPreviousPage"),m=u.pageInfo={__typename:"string"==typeof v?v:"PageInfo",hasNextPage:"boolean"==typeof p?p:!!g,hasPreviousPage:"boolean"==typeof y?y:!!d,endCursor:g,startCursor:d};if(null===m.endCursor){var h=f[f.length-1];if(h){var c=e.resolve(h,"cursor");m.endCursor=t(c)}}if(null===m.startCursor){var _=f[0];if(_){var P=e.resolve(_,"cursor");m.startCursor=t(P)}}}return u}function i(r){void 0===r&&(r={});var i=r.mergeMode||"inwards";return function(r,u,l,v){var g=v.parentKey,d=v.fieldName,p=l.inspectFields(g).filter((function(e){return e.fieldName===d})),y=p.length;if(0!==y){for(var m=null,h=[],c=[],_=[],P=[],C=e({},n),I=0;I<y;I++){var b=p[I],N=b.fieldKey,x=b.arguments;if(null!==x&&s(u,x)){var w=f(l,g,N);if(null!==w&&(0!==w.nodes.length||0!==w.edges.length||!m)){if("inwards"===i&&"number"==typeof x.last&&"number"==typeof x.first){var K=w.edges.slice(0,x.first+1),j=w.edges.slice(-x.last),S=w.nodes.slice(0,x.first+1),A=w.nodes.slice(-x.last);h=a(l,h,K),c=a(l,j,c),_=o(_,S),P=o(A,P),C=w.pageInfo}else x.after?(h=a(l,h,w.edges),_=o(_,w.nodes),C.endCursor=w.pageInfo.endCursor,C.hasNextPage=w.pageInfo.hasNextPage):x.before?(c=a(l,w.edges,c),P=o(w.nodes,P),C.startCursor=w.pageInfo.startCursor,C.hasPreviousPage=w.pageInfo.hasPreviousPage):"number"==typeof x.last?(c=a(l,w.edges,c),P=o(w.nodes,P),C=w.pageInfo):(h=a(l,h,w.edges),_=o(_,w.nodes),C=w.pageInfo);w.pageInfo.__typename!==C.__typename&&(C.__typename=w.pageInfo.__typename),m!==w.__typename&&(m=w.__typename)}}}if("string"==typeof m){if(!t(l.resolve(g,d,u))){if(!v.store.schema)return;v.partial=!0}return{__typename:m,edges:"inwards"===i?a(l,h,c):a(l,c,h),nodes:"inwards"===i?o(_,P):o(P,_),pageInfo:{__typename:C.__typename,endCursor:C.endCursor,startCursor:C.startCursor,hasNextPage:C.hasNextPage,hasPreviousPage:C.hasPreviousPage}}}}}}function u(e){void 0===e&&(e={});var n=e.offsetArgument;void 0===n&&(n="skip");var t=e.limitArgument;void 0===t&&(t="limit");var a=e.mergeMode;function o(e,a){for(var o in a)if(o!==n&&o!==t){if(!(o in e))return!1;var s=e[o],f=a[o];if(typeof s!=typeof f||"object"!=typeof s?s!==f:r(s)!==r(f))return!1}for(var i in e)if(i!==n&&i!==t&&!(i in a))return!1;return!0}return void 0===a&&(a="after"),function(e,r,t,s){var f=s.parentKey,i=s.fieldName,u=t.inspectFields(f).filter((function(e){return e.fieldName===i})),l=u.length;if(0!==l){for(var v=new Set,g=[],d=null,p=0;p<l;p++){var y=u[p],m=y.fieldKey,h=y.arguments;if(null!==h&&o(r,h)){var c=t.resolve(f,m),_=h[n];if(null!==c&&0!==c.length&&"number"==typeof _){for(var P=[],C=0;C<c.length;C++){var I=c[C];v.has(I)||(P.push(I),v.add(I))}g=(!d||_>d)==("after"===a)?g.concat(P):P.concat(g),d=_}}}return t.resolve(f,i,r)?g:s.store.schema?(s.partial=!0,g):void 0}}}export{i as relayPagination,u as simplePagination};
//# sourceMappingURL=urql-exchange-graphcache-extras.min.mjs.map
